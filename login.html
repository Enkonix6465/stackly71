<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Secure Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            border-color: black;
        }
        
        .password-toggle svg {
            width: 20px;
            height: 20px;
            fill: #666;
        }
        
        .fade-in {
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
    
        @media (max-height: 700px) {
            .mobile-compact {
                padding-top: 1rem;
                padding-bottom: 1rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4 ">
    <div class="w-full max-w-4xl bg-white rounded-xl shadow-2xl overflow-hidden border border-black-300">
        <div class="flex flex-col lg:flex-row w-full h-full">
            
            <div class="lg:w-1/2 bg-gradient-to-br from-gray-900 to-black p-6 lg:p-8 text-white flex flex-col justify-center">
                <div id="dynamic-content" class="fade-in">
                </div>
            </div>
            
            
          <div class="lg:w-1/2 p-6 lg:p-8 mobile-compact">
                <div class="mb-6 text-center">
                  <h1 class="text-2xl font-bold text-gray-800 mb-2">Log in</h1>
                     <p class="text-gray-600">Secure access to your account</p>
                </div>

                
                <div id="auth-section">
                    <div class="flex border-b border-gray-200 mb-6">
                        <button class="tab-btn flex-1 py-3 font-medium text-gray-600 border-b-2 border-transparent transition-all duration-300" data-tab="user-login">
                            User Login
                        </button>
                        <button class="tab-btn flex-1 py-3 font-medium text-gray-600 border-b-2 border-transparent transition-all duration-300" data-tab="admin-login">
                            Admin Login
                        </button>
                    </div>
                    
                    
                    <div class="form-container fade-in active" id="user-login-form">
                        <h2 class="text-xl font-bold text-gray-800 mb-2">Welcome back!</h2>
                        <p class="text-gray-600 mb-6">Please login to continue.</p>
                        
                        <div class="mb-4">
                            <label for="user-email" class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" id="user-email" placeholder="Enter your email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div class="mb-4">
                            <label for="user-password" class="block text-gray-700 font-medium mb-2">Password</label>
                            <div class="relative">
                                <input type="password" id="user-password" placeholder="Enter your password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12">
                                <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors" id="toggle-user-password">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <a href="#" id="show-forgot-password" class="text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center transition-colors">
                                <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24">
                                    <path d="M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
                                </svg>
                                Forgot Password?
                            </a>
                        </div>
                        
                        <button class="btn w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center" id="user-login-btn">
                            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0-2c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1zm0 8c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/>
                            </svg>
                            Login
                        </button>
                        
                        <div class="message mt-4 p-3 rounded-lg hidden" id="user-login-message"></div>
                        
                        <div class="mt-6 text-center">
                            <p class="text-gray-600 text-sm">
                                Don't have an account? 
                                <a href="#" id="show-register" class="text-blue-600 hover:text-blue-800 font-medium transition-colors flex items-center justify-center mt-1">
                                    <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                    Register
                                </a>
                            </p>
                        </div>
                        
                        <div class="mt-4 text-center">
                            <p class="text-gray-500 text-xs">
                                For admin access, switch to the Admin tab above.
                            </p>
                        </div>
                    </div>
                    
                
                    <div class="form-container fade-in hidden" id="user-register-form">
                        <h2 class="text-xl font-bold text-gray-800 mb-2">Create Account</h2>
                        <p class="text-gray-600 mb-6">Register to get started</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                            <div>
                                <label for="first-name" class="block text-gray-700 font-medium mb-2">First Name</label>
                                <input type="text" id="first-name" placeholder="Enter your first name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                            </div>
                            <div>
                                <label for="last-name" class="block text-gray-700 font-medium mb-2">Last Name</label>
                                <input type="text" id="last-name" placeholder="Enter your last name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label for="reg-email" class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" id="reg-email" placeholder="Enter your email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div class="mb-4">
                            <label for="reg-password" class="block text-gray-700 font-medium mb-2">Password</label>
                            <div class="relative">
                                <input type="password" id="reg-password" placeholder="Create a password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12">
                                <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors" id="toggle-reg-password">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                            <p class="text-gray-500 text-xs mt-1">Password must be at least 6 characters long</p>
                        </div>
                        
                        <div class="mb-4">
                            <label for="phone" class="block text-gray-700 font-medium mb-2">Phone Number</label>
                            <input type="tel" id="phone" placeholder="Enter your phone number" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div class="mb-6">
                            <label for="address" class="block text-gray-700 font-medium mb-2">Address</label>
                            <input type="text" id="address" placeholder="Enter your address" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <button class="btn w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center" id="user-register-btn">
                            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                            Register
                        </button>
                        
                        <div class="message mt-4 p-3 rounded-lg hidden" id="user-register-message"></div>
                        
                        <div class="mt-6 text-center">
                            <p class="text-gray-600 text-sm">
                                Already have an account? 
                                <a href="#" id="show-login" class="text-blue-600 hover:text-blue-800 font-medium transition-colors flex items-center justify-center mt-1">
                                    <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M10 20H5v2h5v2l3-3-3-3v2zm4 0v2h5v-2h-5zM12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0-2c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1zm0 8c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/>
                                    </svg>
                                    Login
                                </a>
                            </p>
                        </div>
                    </div>
                    
    
                    <div class="form-container fade-in hidden" id="forgot-password-form">
                        <h2 class="text-xl font-bold text-gray-800 mb-2">Reset Password</h2>
                        <p class="text-gray-600 mb-6">Enter your email to reset your password</p>
                        
                        <div class="mb-6">
                            <label for="forgot-email" class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" id="forgot-email" placeholder="Enter your registered email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <button class="btn w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center" id="check-email-btn">
                            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                            </svg>
                            Check Email
                        </button>
                        
                        <div class="message mt-4 p-3 rounded-lg hidden" id="forgot-email-message"></div>
                        
        
                        <div id="reset-password-section" class="hidden mt-6">
                            <div class="mb-4">
                                <label for="new-password" class="block text-gray-700 font-medium mb-2">New Password</label>
                                <div class="relative">
                                    <input type="password" id="new-password" placeholder="Enter new password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12">
                                    <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors" id="toggle-new-password">
                                        <svg viewBox="0 0 24 24">
                                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <label for="confirm-password" class="block text-gray-700 font-medium mb-2">Confirm Password</label>
                                <div class="relative">
                                    <input type="password" id="confirm-password" placeholder="Confirm new password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12">
                                    <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors" id="toggle-confirm-password">
                                        <svg viewBox="0 0 24 24">
                                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            
                            <button class="btn w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center" id="reset-password-btn">
                                <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/>
                                </svg>
                                Reset Password
                            </button>
                        </div>
                        
                        <div class="mt-6 text-center">
                            <p class="text-gray-600 text-sm">
                                Remember your password? 
                                <a href="#" id="back-to-login" class="text-blue-600 hover:text-blue-800 font-medium transition-colors flex items-center justify-center mt-1">
                                    <svg class="w-4 h-4 mr-1" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                                    </svg>
                                    Back to Login
                                </a>
                            </p>
                        </div>
                    </div>
                    
    
                    <div class="form-container fade-in hidden" id="admin-login-form">
                       
                        
                        
                        <div class="mb-4">
                            <label for="admin-email" class="block text-gray-700 font-medium mb-2">Email</label>
                            <input type="email" id="admin-email" placeholder="Enter admin email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        </div>
                        
                        <div class="mb-6">
                            <label for="admin-password" class="block text-gray-700 font-medium mb-2">Password</label>
                            <div class="relative">
                                <input type="password" id="admin-password" placeholder="Enter admin password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all pr-12">
                                <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors" id="toggle-admin-password">
                                    <svg viewBox="0 0 24 24">
                                        <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <button class="btn w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center" id="admin-login-btn">
                            
                            Log in as Admin
                        </button>
                        
                        <div class="message mt-4 p-3 rounded-lg hidden" id="admin-login-message"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
       
        const dynamicContent = {
  'user-login': {
    title: 'Welcome Back',
    description: 'Access your account to manage your profile, view your dashboard, and more.',
    image: `
      <div class="w-32 h-32 rounded-full overflow-hidden flex items-center justify-center mx-auto mb-6 transform transition-transform duration-300 hover:scale-110 hover:shadow-lg">
        <img src="https://i.pinimg.com/736x/88/dc/49/88dc49dbcfc2ebc7837c72510e1f36ce.jpg" 
             alt="User Image" 
             class="w-full h-full object-cover">
      </div>`
  },
  'user-register': {
    title: 'Join Our Community',
    description: 'Create an account to access exclusive features and personalized content.',
    image: `
      <div class="w-32 h-32 rounded-full overflow-hidden flex items-center justify-center mx-auto mb-6 transform transition-transform duration-300 hover:scale-110 hover:shadow-lg">
        <img src="https://i.pinimg.com/736x/88/dc/49/88dc49dbcfc2ebc7837c72510e1f36ce.jpg" 
             alt="User Registration" 
             class="w-full h-full object-cover">
      </div>`
  },
  'forgot-password': {
    title: 'Reset Your Password',
    description: 'Follow the steps to securely reset your password and regain access to your account.',
    image: `
      <div class="w-32 h-32 rounded-full overflow-hidden flex items-center justify-center mx-auto mb-6 transform transition-transform duration-300 hover:scale-110 hover:shadow-lg">
        <img src="https://i.pinimg.com/736x/88/dc/49/88dc49dbcfc2ebc7837c72510e1f36ce.jpg" 
             alt="Forgot Password" 
             class="w-full h-full object-cover">
      </div>`
  },
  'admin-login': {
    title: 'Administrator Access',
    description: 'Secure administrative access to manage users, settings, and system configurations.',
    image: `
      <div class="w-32 h-32 rounded-full overflow-hidden flex items-center justify-center mx-auto mb-6 transform transition-transform duration-300 hover:scale-110 hover:shadow-lg">
        <img src="https://i.pinimg.com/1200x/f9/08/1e/f9081e9da41c470112bcf3634e2acf69.jpg" 
             alt="Admin Image" 
             class="w-full h-full object-cover">
      </div>`
  }
};


function updateDynamicContent(formType) {
  const content = dynamicContent[formType];
  if (!content) return;

  const dynamicContentEl = document.getElementById('dynamic-content');
  dynamicContentEl.innerHTML = `
    <div class="fade-in text-center">
      ${content.image}
      <h2 class="text-2xl lg:text-3xl font-bold mb-4">${content.title}</h2>
      <p class="text-gray-300">${content.description}</p>
    </div>
  `;
}

        
        function initializeStorage() {
            if (!localStorage.getItem('admin')) {
                const defaultAdmin = [
                    {
                        id: 1,
                        firstName: 'Admin',
                        lastName: 'User',
                        email: 'admin@enkonix.in',
                        password: 'admin123',
                        phone: '+1234567890',
                        address: 'Admin Address',
                        status: 'active',
                        role: 'admin',
                        registrationDate: new Date().toISOString().split('T')[0]
                    }
                ];
                localStorage.setItem('admin', JSON.stringify(defaultAdmin));
            }

            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
        }

        
        function setupPasswordToggle(toggleId, passwordId) {
            const toggleBtn = document.getElementById(toggleId);
            const passwordInput = document.getElementById(passwordId);
            
            toggleBtn.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                const eyeIcon = this.querySelector('svg');
                if (type === 'text') {
                    eyeIcon.innerHTML = '<path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>';
                } else {
                    eyeIcon.innerHTML = '<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>';
                }
            });
        }

        
        document.querySelectorAll('.tab-btn').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                
                
                document.querySelectorAll('.tab-btn').forEach(t => {
                    t.classList.remove('border-blue-600', 'text-blue-600');
                    t.classList.add('border-transparent', 'text-gray-600');
                });
                tab.classList.add('border-blue-600', 'text-blue-600');
                tab.classList.remove('border-transparent', 'text-gray-600');
                
                
                document.querySelectorAll('.form-container').forEach(form => {
                    form.classList.add('hidden');
                    form.classList.remove('active');
                });
                
                const activeForm = document.getElementById(`${tabId}-form`);
                activeForm.classList.remove('hidden');
                activeForm.classList.add('active');
                
                
                updateDynamicContent(tabId);
            });
        });

    
        document.getElementById('show-register').addEventListener('click', (e) => {
            e.preventDefault();
            switchToForm('user-register');
        });

        document.getElementById('show-login').addEventListener('click', (e) => {
            e.preventDefault();
            switchToForm('user-login');
        });

        document.getElementById('show-forgot-password').addEventListener('click', (e) => {
            e.preventDefault();
            switchToForm('forgot-password');
        });

        document.getElementById('back-to-login').addEventListener('click', (e) => {
            e.preventDefault();
            switchToForm('user-login');
        });

        function switchToForm(formType) {
            
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.add('hidden');
                form.classList.remove('active');
            });
            
            
            const targetForm = document.getElementById(`${formType}-form`);
            targetForm.classList.remove('hidden');
            targetForm.classList.add('active');
            
            
            if (formType === 'user-login' || formType === 'user-register' || formType === 'forgot-password') {
                document.querySelectorAll('.tab-btn').forEach(tab => {
                    if (tab.getAttribute('data-tab') === 'user-login') {
                        tab.classList.add('border-blue-600', 'text-blue-600');
                        tab.classList.remove('border-transparent', 'text-gray-600');
                    } else {
                        tab.classList.remove('border-blue-600', 'text-blue-600');
                        tab.classList.add('border-transparent', 'text-gray-600');
                    }
                });
            }
            
    
            updateDynamicContent(formType);
            
        
            if (formType !== 'forgot-password') {
                resetForgotPasswordForm();
            }
        }

        function resetForgotPasswordForm() {
            document.getElementById('forgot-email').value = '';
            document.getElementById('new-password').value = '';
            document.getElementById('confirm-password').value = '';
            document.getElementById('reset-password-section').classList.add('hidden');
            currentResetEmail = '';
        }

        
        document.getElementById('user-register-btn').addEventListener('click', () => {
            const firstName = document.getElementById('first-name').value;
            const lastName = document.getElementById('last-name').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const messageEl = document.getElementById('user-register-message');
            
            
            if (!firstName || !lastName || !email || !password || !phone) {
                showMessage(messageEl, 'Please fill in all required fields', 'error');
                return;
            }
            
            if (password.length < 6) {
                showMessage(messageEl, 'Password must be at least 6 characters long', 'error');
                return;
            }
            
    
            const users = JSON.parse(localStorage.getItem('users'));
            const existingUser = users.find(user => user.email === email);
            
            if (existingUser) {
                showMessage(messageEl, 'User with this email already exists', 'error');
                return;
            }
            
        
            const newUser = {
                id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,
                firstName,
                lastName,
                email,
                password,
                phone,
                address,
                status: 'active',
                role: 'user',
                registrationDate: new Date().toISOString().split('T')[0]
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            showMessage(messageEl, 'Registration successful! You can now login.', 'success');
            
            // Clear form
            document.getElementById('first-name').value = '';
            document.getElementById('last-name').value = '';
            document.getElementById('reg-email').value = '';
            document.getElementById('reg-password').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('address').value = '';
            
            
            setTimeout(() => {
                switchToForm('user-login');
                document.getElementById('user-email').value = email;
            }, 2000);
        });

        document.getElementById('user-login-btn').addEventListener('click', () => {
            const email = document.getElementById('user-email').value;
            const password = document.getElementById('user-password').value;
            const messageEl = document.getElementById('user-login-message');
            
            
            if (!email || !password) {
                showMessage(messageEl, 'Please enter both email and password', 'error');
                return;
            }
            
            
            const users = JSON.parse(localStorage.getItem('users'));
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                showMessage(messageEl, 'Invalid email or password', 'error');
                return;
            }
            
            
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            showMessage(messageEl, 'Login successful! Redirecting to home page...', 'success');
            
            
            setTimeout(() => {
                window.location.href = 'home.html';
            }, 1000);
        });

        
        document.getElementById('admin-login-btn').addEventListener('click', () => {
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            const messageEl = document.getElementById('admin-login-message');
            
        
            if (!email || !password) {
                showMessage(messageEl, 'Please enter both email and password', 'error');
                return;
            }
            
            
            const admins = JSON.parse(localStorage.getItem('admin')) || [];
            const admin = admins.find(a => a.email === email && a.password === password);
            
            if (admin) {
                
                localStorage.setItem('currentAdmin', JSON.stringify(admin));
                
                showMessage(messageEl, 'Admin login successful! Redirecting to admin dashboard...', 'success');
                
                
                setTimeout(() => {
                    window.location.href = 'adminpg.html';
                }, 1000);
            } else {
                showMessage(messageEl, 'Invalid admin credentials', 'error');
            }
        });

    
        let currentResetEmail = '';
        
        document.getElementById('check-email-btn').addEventListener('click', () => {
            const email = document.getElementById('forgot-email').value;
            const messageEl = document.getElementById('forgot-email-message');
            
            if (!email) {
                showMessage(messageEl, 'Please enter your email address', 'error');
                return;
            }
            
    
            const users = JSON.parse(localStorage.getItem('users'));
            const user = users.find(u => u.email === email);
            
            if (user) {
                currentResetEmail = email;
                document.getElementById('reset-password-section').classList.remove('hidden');
                showMessage(messageEl, 'Email verified. Please enter your new password.', 'success');
            } else {
                showMessage(messageEl, 'No account found with this email address', 'error');
            }
        });

        
        document.getElementById('reset-password-btn').addEventListener('click', () => {
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const messageEl = document.getElementById('forgot-email-message');
            
            if (!newPassword || !confirmPassword) {
                showMessage(messageEl, 'Please fill in both password fields', 'error');
                return;
            }
            
            if (newPassword.length < 6) {
                showMessage(messageEl, 'Password must be at least 6 characters long', 'error');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showMessage(messageEl, 'Passwords do not match', 'error');
                return;
            }
            
            
            const users = JSON.parse(localStorage.getItem('users'));
            const userIndex = users.findIndex(u => u.email === currentResetEmail);
            
            if (userIndex !== -1) {
                users[userIndex].password = newPassword;
                localStorage.setItem('users', JSON.stringify(users));
                
                showMessage(messageEl, 'Password reset successfully! You can now login with your new password.', 'success');
                
                
                setTimeout(() => {
                    resetForgotPasswordForm();
                    switchToForm('user-login');
                }, 2000);
            } else {
                showMessage(messageEl, 'Error resetting password. Please try again.', 'error');
            }
        });

        
        function showMessage(element, message, type) {
            element.textContent = message;
            element.className = `message mt-4 p-3 rounded-lg ${type === 'success' ? 'bg-green-100 text-green-700 border border-green-200' : 'bg-red-100 text-red-700 border border-red-200'}`;
            element.classList.remove('hidden');
            
            setTimeout(() => {
                element.classList.add('hidden');
            }, 5000);
        }

    
        function init() {
    
            initializeStorage();
            
        
            setupPasswordToggle('toggle-user-password', 'user-password');
            setupPasswordToggle('toggle-reg-password', 'reg-password');
            setupPasswordToggle('toggle-admin-password', 'admin-password');
            setupPasswordToggle('toggle-new-password', 'new-password');
            setupPasswordToggle('toggle-confirm-password', 'confirm-password');
            
    
            updateDynamicContent('user-login');
            
    
            document.querySelector('[data-tab="user-login"]').classList.add('border-blue-600', 'text-blue-600');
        }

        
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>